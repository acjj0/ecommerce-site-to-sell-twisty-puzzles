{"remainingRequest":"/opt/lampp/htdocs/web/puzzles2/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/lampp/htdocs/web/puzzles2/src/components/pages/ProductCreatePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/lampp/htdocs/web/puzzles2/src/components/pages/ProductCreatePage.vue","mtime":1577694906115},{"path":"/opt/lampp/htdocs/web/puzzles2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/web/puzzles2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/web/puzzles2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/web/puzzles2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGFwcCBmcm9tICcuLy4uLy4uL2FwcC5qcyc7CmltcG9ydCB7IHJlcXVpcmVkLCBtaW5MZW5ndGggfSBmcm9tICd2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMnOwoKbGV0IHByb2R1Y3QgPSB7fTsKLy8gSWYgaW4gZGV2IG1vZGUsIHdlJ2xsIHByZS1maWxsIHRoZSBwcm9kdWN0IHRvIG1ha2UgZGVtby90ZXN0aW5nIGVhc2llcgppZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50JykgewogICAgcHJvZHVjdCA9IHsKICAgICAgICBzbHVnOiAnaW5kaWFuYS1nb3VybWV0LWtldHRsZWNvcm4tcG9wY29ybicsCiAgICAgICAgbmFtZTogJ0luZGlhbmEgR291cm1ldCBLZXR0bGVjb3JuIFBvcGNvcm4nLAogICAgICAgIGRlc2NyaXB0aW9uOgogICAgICAgICAgICAnV2UgY29tYmluZSB0aGUgZmluZXN0IHBvcHBpbmcgY29ybiwgdGhlIHJpZ2h0IGFtb3VudCBvZiBzYWx0IGFuZCBwdXJlIHN1Z2FyIGNhbmUsIHRoZW4gd2UgaGVhdCBpdCBqdXN0IHJpZ2h0LCBzbyB0aGF0IHRoZSBzdWdhciBpcyBtZWx0aW5nIGp1c3QgYXMgdGhlIGNvcm4gc3RhcnRzIHRvIHBvcOKAlGxlYXZpbmcgZXZlcnkgcGllY2Ugd2l0aCBhIHRoaW4gc2hlbGwgb2Ygc2FsdHkgc3dlZXRuZXNzLiBCZSBjYXJlZnVsLCBpdOKAmXMgaGFyZCB0byBlYXQganVzdCBvbmUgYml0ZSBvZiBvdXIgaGFuZGNyYWZ0ZWQsIGdsdXRlbiBmcmVlIE9yaWdpbmFsIEtldHRsZWNvcm4uIE11bmNoIEJldHRlci4nLAogICAgICAgIHByaWNlOiA0LjQ5LAogICAgICAgIHdlaWdodDogMC40NCwKICAgICAgICBwZXJpc2hhYmxlOiBmYWxzZSwKICAgICAgICBjYXRlZ29yaWVzOiBbJ3NuYWNrcycsICdnbHV0ZW4tZnJlZSddCiAgICB9Owp9IGVsc2UgewogICAgcHJvZHVjdCA9IHsKICAgICAgICBzbHVnOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgcHJpY2U6ICcnLAogICAgICAgIHdlaWdodDogJycsCiAgICAgICAgcGVyaXNoYWJsZTogZmFsc2UsCiAgICAgICAgY2F0ZWdvcmllczogW10KICAgIH07Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdQcm9kdWN0Q3JlYXRlUGFnZScsCiAgICBkYXRhOiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwcm9kdWN0OiBwcm9kdWN0LAogICAgICAgICAgICBmb3JtSGFzRXJyb3JzOiBmYWxzZQogICAgICAgIH07CiAgICB9LAogICAgdmFsaWRhdGlvbnM6IHsKICAgICAgICBwcm9kdWN0OiB7CiAgICAgICAgICAgIHNsdWc6IHsKICAgICAgICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNCksCiAgICAgICAgICAgICAgICBkb2VzTm90RXhpc3QodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIXRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0UHJvZHVjdEJ5U2x1Zyh2YWx1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5hbWU6IHsKICAgICAgICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAnJHYuJGFueUVycm9yJzogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybUhhc0Vycm9ycyA9IHRoaXMuJHYuJGFueUVycm9yOwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLmZvcm1IYXNFcnJvcnMpIHsKICAgICAgICAgICAgICAgIC8vIEF4aW9zIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB0byBwZXJzaXN0IHRoZSBuZXcgcHJvZHVjdAogICAgICAgICAgICAgICAgYXBwLmF4aW9zCiAgICAgICAgICAgICAgICAgICAgLnBvc3QoYXBwLmNvbmZpZy5hcGkgKyAncHJvZHVjdHMuanNvbicsIHRoaXMucHJvZHVjdCkKICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBrZXkgPSByZXNwb25zZS5kYXRhLm5hbWU7CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZFByb2R1Y3QnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBba2V5XTogdGhpcy5wcm9kdWN0CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3Byb2R1Y3QnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7IHNsdWc6IHRoaXMucHJvZHVjdC5zbHVnIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn07Cg=="},{"version":3,"sources":["ProductCreatePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProductCreatePage.vue","sourceRoot":"src/components/pages","sourcesContent":["<template>\n    <div id='product-create'>\n        <h1>Add a Product</h1>\n        <form @submit.prevent='handleSubmit'>\n            <div class='form-group'>\n                <label for='name'>URL</label>\n                <input\n                    type='text'\n                    :class='{ \"form-input-error\": $v.product.slug.$error }'\n                    id='slug'\n                    data-test='product-slug-input'\n                    v-model='$v.product.slug.$model'\n                />\n\n                <div v-if='$v.product.slug.$error'>\n                    <div\n                        class='form-feedback-error'\n                        v-if='!$v.product.slug.required'\n                    >Product URL is required.</div>\n                    <div\n                        class='form-feedback-error'\n                        v-else-if='!$v.product.slug.minLength'\n                    >Product URL must be at least 4 characters long.</div>\n\n                    <div\n                        class='form-feedback-error'\n                        v-else-if='!$v.product.slug.doesNotExist'\n                    >This URL is not available.</div>\n                </div>\n\n                <small class='form-help'>Min: 4</small>\n            </div>\n\n            <div class='form-group'>\n                <label for='name'>Name</label>\n                <input\n                    type='text'\n                    :class='{ \"form-input-error\": $v.product.name.$error }'\n                    data-test='product-name-input'\n                    id='name'\n                    v-model='$v.product.name.$model'\n                />\n                <div v-if='$v.product.name.$error'>\n                    <div\n                        class='form-feedback-error'\n                        v-if='!$v.product.name.required'\n                    >Product name is required.</div>\n                </div>\n            </div>\n\n            <div class='form-group'>\n                <label for='description'>Description</label>\n                <textarea\n                    data-test='product-description-textarea'\n                    id='description'\n                    v-model='product.description'\n                ></textarea>\n            </div>\n\n            <div class='form-group'>\n                <label for='price'>Price</label>\n                <input\n                    type='text'\n                    data-test='product-price-input'\n                    id='price'\n                    v-model='product.price'\n                />\n            </div>\n\n            <div class='form-group'>\n                <label for='weight'>Weight</label>\n                <input\n                    type='text'\n                    data-test='product-weight-input'\n                    id='weight'\n                    v-model='product.weight'\n                />\n                <small class='form-help'>Decimal value in lbs.</small>\n            </div>\n\n            <div class='form-group'>\n                <label for='categories'>Categories</label>\n\n                <input\n                    type='text'\n                    id='categories'\n                    data-test='product-categories-input'\n                    v-model='product.categories'\n                />\n                <small id='categoriesHelp' class='form-help'>Comma separated</small>\n            </div>\n\n            <div class='form-group'>\n                <label class='form-checkbox-label'>\n                    <input\n                        type='checkbox'\n                        data-test='product-perishable-checkbox'\n                        v-model='product.perishable'\n                    /> Perishable\n                </label>\n            </div>\n\n            <button data-test='add-product-button' type='submit'>Add Product</button>\n\n            <div class='form-feedback-error' v-if='formHasErrors'>Please correct the above errors</div>\n        </form>\n    </div>\n</template>\n\n<script>\nimport * as app from './../../app.js';\nimport { required, minLength } from 'vuelidate/lib/validators';\n\nlet product = {};\n// If in dev mode, we'll pre-fill the product to make demo/testing easier\nif (process.env.NODE_ENV == 'development') {\n    product = {\n        slug: 'indiana-gourmet-kettlecorn-popcorn',\n        name: 'Indiana Gourmet Kettlecorn Popcorn',\n        description:\n            'We combine the finest popping corn, the right amount of salt and pure sugar cane, then we heat it just right, so that the sugar is melting just as the corn starts to pop—leaving every piece with a thin shell of salty sweetness. Be careful, it’s hard to eat just one bite of our handcrafted, gluten free Original Kettlecorn. Munch Better.',\n        price: 4.49,\n        weight: 0.44,\n        perishable: false,\n        categories: ['snacks', 'gluten-free']\n    };\n} else {\n    product = {\n        slug: '',\n        name: '',\n        description: '',\n        price: '',\n        weight: '',\n        perishable: false,\n        categories: []\n    };\n}\n\nexport default {\n    name: 'ProductCreatePage',\n    data: function() {\n        return {\n            product: product,\n            formHasErrors: false\n        };\n    },\n    validations: {\n        product: {\n            slug: {\n                required,\n                minLength: minLength(4),\n                doesNotExist(value) {\n                    return !this.$store.getters.getProductBySlug(value);\n                }\n            },\n            name: {\n                required\n            }\n        }\n    },\n    watch: {\n        '$v.$anyError': function() {\n            this.formHasErrors = this.$v.$anyError;\n        }\n    },\n    methods: {\n        handleSubmit: function() {\n            if (!this.formHasErrors) {\n                // Axios request to the server to persist the new product\n                app.axios\n                    .post(app.config.api + 'products.json', this.product)\n                    .then(response => {\n                        let key = response.data.name;\n\n                        this.$store.commit('addProduct', {\n                            [key]: this.product\n                        });\n\n                        this.$router.push({\n                            name: 'product',\n                            params: { slug: this.product.slug }\n                        });\n                    });\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n#description {\n    height: 150px;\n}\n</style>"]}]}