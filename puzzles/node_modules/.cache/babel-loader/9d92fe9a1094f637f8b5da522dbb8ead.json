{"remainingRequest":"/opt/lampp/htdocs/web/puzzles2/node_modules/babel-loader/lib/index.js!/opt/lampp/htdocs/web/puzzles2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/opt/lampp/htdocs/web/puzzles2/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/lampp/htdocs/web/puzzles2/src/components/pages/ProductCreatePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/lampp/htdocs/web/puzzles2/src/components/pages/ProductCreatePage.vue","mtime":1577694906115},{"path":"/opt/lampp/htdocs/web/puzzles2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/web/puzzles2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/web/puzzles2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/web/puzzles2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL29wdC9sYW1wcC9odGRvY3Mvd2ViL3B1enpsZXMyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAqIGFzIGFwcCBmcm9tICcuLy4uLy4uL2FwcC5qcyc7CmltcG9ydCB7IHJlcXVpcmVkLCBtaW5MZW5ndGggfSBmcm9tICd2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMnOwp2YXIgcHJvZHVjdCA9IHt9OyAvLyBJZiBpbiBkZXYgbW9kZSwgd2UnbGwgcHJlLWZpbGwgdGhlIHByb2R1Y3QgdG8gbWFrZSBkZW1vL3Rlc3RpbmcgZWFzaWVyCgppZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50JykgewogIHByb2R1Y3QgPSB7CiAgICBzbHVnOiAnaW5kaWFuYS1nb3VybWV0LWtldHRsZWNvcm4tcG9wY29ybicsCiAgICBuYW1lOiAnSW5kaWFuYSBHb3VybWV0IEtldHRsZWNvcm4gUG9wY29ybicsCiAgICBkZXNjcmlwdGlvbjogJ1dlIGNvbWJpbmUgdGhlIGZpbmVzdCBwb3BwaW5nIGNvcm4sIHRoZSByaWdodCBhbW91bnQgb2Ygc2FsdCBhbmQgcHVyZSBzdWdhciBjYW5lLCB0aGVuIHdlIGhlYXQgaXQganVzdCByaWdodCwgc28gdGhhdCB0aGUgc3VnYXIgaXMgbWVsdGluZyBqdXN0IGFzIHRoZSBjb3JuIHN0YXJ0cyB0byBwb3DigJRsZWF2aW5nIGV2ZXJ5IHBpZWNlIHdpdGggYSB0aGluIHNoZWxsIG9mIHNhbHR5IHN3ZWV0bmVzcy4gQmUgY2FyZWZ1bCwgaXTigJlzIGhhcmQgdG8gZWF0IGp1c3Qgb25lIGJpdGUgb2Ygb3VyIGhhbmRjcmFmdGVkLCBnbHV0ZW4gZnJlZSBPcmlnaW5hbCBLZXR0bGVjb3JuLiBNdW5jaCBCZXR0ZXIuJywKICAgIHByaWNlOiA0LjQ5LAogICAgd2VpZ2h0OiAwLjQ0LAogICAgcGVyaXNoYWJsZTogZmFsc2UsCiAgICBjYXRlZ29yaWVzOiBbJ3NuYWNrcycsICdnbHV0ZW4tZnJlZSddCiAgfTsKfSBlbHNlIHsKICBwcm9kdWN0ID0gewogICAgc2x1ZzogJycsCiAgICBuYW1lOiAnJywKICAgIGRlc2NyaXB0aW9uOiAnJywKICAgIHByaWNlOiAnJywKICAgIHdlaWdodDogJycsCiAgICBwZXJpc2hhYmxlOiBmYWxzZSwKICAgIGNhdGVnb3JpZXM6IFtdCiAgfTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9kdWN0Q3JlYXRlUGFnZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3Q6IHByb2R1Y3QsCiAgICAgIGZvcm1IYXNFcnJvcnM6IGZhbHNlCiAgICB9OwogIH0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIHByb2R1Y3Q6IHsKICAgICAgc2x1ZzogewogICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCwKICAgICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCg0KSwKICAgICAgICBkb2VzTm90RXhpc3Q6IGZ1bmN0aW9uIGRvZXNOb3RFeGlzdCh2YWx1ZSkgewogICAgICAgICAgcmV0dXJuICF0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFByb2R1Y3RCeVNsdWcodmFsdWUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbmFtZTogewogICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJyR2LiRhbnlFcnJvcic6IGZ1bmN0aW9uICR2JGFueUVycm9yKCkgewogICAgICB0aGlzLmZvcm1IYXNFcnJvcnMgPSB0aGlzLiR2LiRhbnlFcnJvcjsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmZvcm1IYXNFcnJvcnMpIHsKICAgICAgICAvLyBBeGlvcyByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdG8gcGVyc2lzdCB0aGUgbmV3IHByb2R1Y3QKICAgICAgICBhcHAuYXhpb3MucG9zdChhcHAuY29uZmlnLmFwaSArICdwcm9kdWN0cy5qc29uJywgdGhpcy5wcm9kdWN0KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgdmFyIGtleSA9IHJlc3BvbnNlLmRhdGEubmFtZTsKCiAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdhZGRQcm9kdWN0JywgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIF90aGlzLnByb2R1Y3QpKTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAncHJvZHVjdCcsCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIHNsdWc6IF90aGlzLnByb2R1Y3Quc2x1ZwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["ProductCreatePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA,OAAA,KAAA,GAAA,MAAA,gBAAA;AACA,SAAA,QAAA,EAAA,SAAA,QAAA,0BAAA;AAEA,IAAA,OAAA,GAAA,EAAA,C,CACA;;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,QAAA,IAAA,aAAA,EAAA;AACA,EAAA,OAAA,GAAA;AACA,IAAA,IAAA,EAAA,oCADA;AAEA,IAAA,IAAA,EAAA,oCAFA;AAGA,IAAA,WAAA,EACA,mVAJA;AAKA,IAAA,KAAA,EAAA,IALA;AAMA,IAAA,MAAA,EAAA,IANA;AAOA,IAAA,UAAA,EAAA,KAPA;AAQA,IAAA,UAAA,EAAA,CAAA,QAAA,EAAA,aAAA;AARA,GAAA;AAUA,CAXA,MAWA;AACA,EAAA,OAAA,GAAA;AACA,IAAA,IAAA,EAAA,EADA;AAEA,IAAA,IAAA,EAAA,EAFA;AAGA,IAAA,WAAA,EAAA,EAHA;AAIA,IAAA,KAAA,EAAA,EAJA;AAKA,IAAA,MAAA,EAAA,EALA;AAMA,IAAA,UAAA,EAAA,KANA;AAOA,IAAA,UAAA,EAAA;AAPA,GAAA;AASA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,mBADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,OADA;AAEA,MAAA,aAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,WAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,QADA;AAEA,QAAA,SAAA,EAAA,SAAA,CAAA,CAAA,CAFA;AAGA,QAAA,YAHA,wBAGA,KAHA,EAGA;AACA,iBAAA,CAAA,KAAA,MAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,KAAA,CAAA;AACA;AALA,OADA;AAQA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA;AADA;AARA;AADA,GARA;AAsBA,EAAA,KAAA,EAAA;AACA,oBAAA,uBAAA;AACA,WAAA,aAAA,GAAA,KAAA,EAAA,CAAA,SAAA;AACA;AAHA,GAtBA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,YAAA,EAAA,wBAAA;AAAA;;AACA,UAAA,CAAA,KAAA,aAAA,EAAA;AACA;AACA,QAAA,GAAA,CAAA,KAAA,CACA,IADA,CACA,GAAA,CAAA,MAAA,CAAA,GAAA,GAAA,eADA,EACA,KAAA,OADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,cAAA,GAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;;AAEA,UAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,YAAA,sBACA,GADA,EACA,KAAA,CAAA,OADA;;AAIA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA,SADA;AAEA,YAAA,MAAA,EAAA;AAAA,cAAA,IAAA,EAAA,KAAA,CAAA,OAAA,CAAA;AAAA;AAFA,WAAA;AAIA,SAbA;AAcA;AACA;AAnBA;AA3BA,CAAA","sourcesContent":["<template>\n    <div id='product-create'>\n        <h1>Add a Product</h1>\n        <form @submit.prevent='handleSubmit'>\n            <div class='form-group'>\n                <label for='name'>URL</label>\n                <input\n                    type='text'\n                    :class='{ \"form-input-error\": $v.product.slug.$error }'\n                    id='slug'\n                    data-test='product-slug-input'\n                    v-model='$v.product.slug.$model'\n                />\n\n                <div v-if='$v.product.slug.$error'>\n                    <div\n                        class='form-feedback-error'\n                        v-if='!$v.product.slug.required'\n                    >Product URL is required.</div>\n                    <div\n                        class='form-feedback-error'\n                        v-else-if='!$v.product.slug.minLength'\n                    >Product URL must be at least 4 characters long.</div>\n\n                    <div\n                        class='form-feedback-error'\n                        v-else-if='!$v.product.slug.doesNotExist'\n                    >This URL is not available.</div>\n                </div>\n\n                <small class='form-help'>Min: 4</small>\n            </div>\n\n            <div class='form-group'>\n                <label for='name'>Name</label>\n                <input\n                    type='text'\n                    :class='{ \"form-input-error\": $v.product.name.$error }'\n                    data-test='product-name-input'\n                    id='name'\n                    v-model='$v.product.name.$model'\n                />\n                <div v-if='$v.product.name.$error'>\n                    <div\n                        class='form-feedback-error'\n                        v-if='!$v.product.name.required'\n                    >Product name is required.</div>\n                </div>\n            </div>\n\n            <div class='form-group'>\n                <label for='description'>Description</label>\n                <textarea\n                    data-test='product-description-textarea'\n                    id='description'\n                    v-model='product.description'\n                ></textarea>\n            </div>\n\n            <div class='form-group'>\n                <label for='price'>Price</label>\n                <input\n                    type='text'\n                    data-test='product-price-input'\n                    id='price'\n                    v-model='product.price'\n                />\n            </div>\n\n            <div class='form-group'>\n                <label for='weight'>Weight</label>\n                <input\n                    type='text'\n                    data-test='product-weight-input'\n                    id='weight'\n                    v-model='product.weight'\n                />\n                <small class='form-help'>Decimal value in lbs.</small>\n            </div>\n\n            <div class='form-group'>\n                <label for='categories'>Categories</label>\n\n                <input\n                    type='text'\n                    id='categories'\n                    data-test='product-categories-input'\n                    v-model='product.categories'\n                />\n                <small id='categoriesHelp' class='form-help'>Comma separated</small>\n            </div>\n\n            <div class='form-group'>\n                <label class='form-checkbox-label'>\n                    <input\n                        type='checkbox'\n                        data-test='product-perishable-checkbox'\n                        v-model='product.perishable'\n                    /> Perishable\n                </label>\n            </div>\n\n            <button data-test='add-product-button' type='submit'>Add Product</button>\n\n            <div class='form-feedback-error' v-if='formHasErrors'>Please correct the above errors</div>\n        </form>\n    </div>\n</template>\n\n<script>\nimport * as app from './../../app.js';\nimport { required, minLength } from 'vuelidate/lib/validators';\n\nlet product = {};\n// If in dev mode, we'll pre-fill the product to make demo/testing easier\nif (process.env.NODE_ENV == 'development') {\n    product = {\n        slug: 'indiana-gourmet-kettlecorn-popcorn',\n        name: 'Indiana Gourmet Kettlecorn Popcorn',\n        description:\n            'We combine the finest popping corn, the right amount of salt and pure sugar cane, then we heat it just right, so that the sugar is melting just as the corn starts to pop—leaving every piece with a thin shell of salty sweetness. Be careful, it’s hard to eat just one bite of our handcrafted, gluten free Original Kettlecorn. Munch Better.',\n        price: 4.49,\n        weight: 0.44,\n        perishable: false,\n        categories: ['snacks', 'gluten-free']\n    };\n} else {\n    product = {\n        slug: '',\n        name: '',\n        description: '',\n        price: '',\n        weight: '',\n        perishable: false,\n        categories: []\n    };\n}\n\nexport default {\n    name: 'ProductCreatePage',\n    data: function() {\n        return {\n            product: product,\n            formHasErrors: false\n        };\n    },\n    validations: {\n        product: {\n            slug: {\n                required,\n                minLength: minLength(4),\n                doesNotExist(value) {\n                    return !this.$store.getters.getProductBySlug(value);\n                }\n            },\n            name: {\n                required\n            }\n        }\n    },\n    watch: {\n        '$v.$anyError': function() {\n            this.formHasErrors = this.$v.$anyError;\n        }\n    },\n    methods: {\n        handleSubmit: function() {\n            if (!this.formHasErrors) {\n                // Axios request to the server to persist the new product\n                app.axios\n                    .post(app.config.api + 'products.json', this.product)\n                    .then(response => {\n                        let key = response.data.name;\n\n                        this.$store.commit('addProduct', {\n                            [key]: this.product\n                        });\n\n                        this.$router.push({\n                            name: 'product',\n                            params: { slug: this.product.slug }\n                        });\n                    });\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n#description {\n    height: 150px;\n}\n</style>"],"sourceRoot":"src/components/pages"}]}